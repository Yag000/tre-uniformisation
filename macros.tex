%% Color

\definecolor{red}{rgb}{1,0,0}
\definecolor{green}{rgb}{0,1,0}
\definecolor{darkgreen}{rgb}{0,0.5,0}
\definecolor{blue}{rgb}{0,0,1}
\definecolor{violet}{rgb}{0.4,0,0.8}

\newcommand{\red}[1]{\textcolor{red}{#1}}
\newcommand{\green}[1]{\textcolor{green}{#1}}
\newcommand{\darkgreen}[1]{\textcolor{darkgreen}{#1}}
\newcommand{\blue}[1]{\textcolor{blue}{#1}}
\newcommand{\violet}[1]{\textcolor{violet}{#1}}


\hypersetup{
	colorlinks,
	linkcolor={red!50!black},
	citecolor={blue!50!black},
	urlcolor={blue!80!black}
}

%% Math

%%% Proofs

\newcommand{\bimpRL}{\fbox{$\Leftarrow$}}
\newcommand{\bimpLR}{\fbox{$\Rightarrow$}}

\newcommand{\bsubLR}{\fbox{$\subseteq$}}
\newcommand{\bsubRL}{\fbox{$\supseteq$}}

\newenvironment{proofI}[1][\proofname]{%
	\begin{proof}[#1]$ $\par\nobreak\ignorespaces
		}{%
	\end{proof}
}

\newcommand{\reason}[1]{\quad\left(\textit{#1}\right)}

%%% Sets

\newcommand{\N}{\mathbb{N}}

\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Zn}[1]{\mathbb{Z}/#1\mathbb{Z}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\Q}{\mathbb{Q}}

\newcommand{\R}{\mathbb{R}}
\newcommand{\Rn}{\R^n}

\newcommand{\C}{\mathbb{C}}

\newcommand{\K}{\mathbb{K}}


\newcommand{\set}[1]{\left\{#1\right\}}
\newcommand{\setdef}[2]{\set{#1 \mid #2}}
\newcommand{\parts}[1]{\mathcal{P}\left(#1\right)}
\newcommand{\enum}[2]{\set{#1,\ldots,#2}}


%%% Logic

\newcommand{\ra}{\rightarrow}
\newcommand{\contradict}{\lightning}


%%% Functions

\newcommand{\restr}[2]{#1_{\restriction #2}}
\newcommand{\im}[1]{\mathrm{Im}\left(#1\right)}

\newcommand{\pgcd}[2]{\mathrm{pgcd}(#1,#2)}
\newcommand{\car}{\mathrm{car}}
\newcommand{\id}{\mathrm{id}}


%%% Polynomials

\newcommand{\QX}{\mathbb{Q}[X]}
\newcommand{\RX}{\mathbb{R}[X]}
\newcommand{\CX}{\mathbb{C}[X]}

\newcommand{\AX}{A[X]}

%%% Vector spaces

\newcommand{\sprod}[2]{\left\langle #1, #2 \right\rangle}

\newcommand{\spec}{\mathrm{Spec}}

\newcommand{\abs}[1]{\left|#1\right|}
\newcommand{\norm}[1]{\abs{\abs{#1}}}
\newcommand{\normop}[1]{\abs{\abs{\abs{#1}}}}

\newcommand{\dist}[2]{\mathrm{d}\left(#1, #2\right)}
\newcommand{\vect}[1]{\mathrm{Vect}\left( #1 \right)}

\newcommand{\Mn}[2]{\mathcal{M}_{#1}(#2)}

%%% Probability notation

\newcommand{\Pro}{\mathscr{P}}
\newcommand{\E}{\mathbb{E}}

\newcommand{\1}{\mathds{1}}

%% Abbreviations

\newcommand{\ie}{\textit{i.e.} }
\newcommand{\eg}{\textit{e.g.} }


%% Semantics

\newcommand{\syntaxHeader}[3]{#1 &::=& #2 &\quad\mathrm{#3}\\}
\newcommand{\syntaxExtension}[1]{\syntaxHeader{#1}{\cdots}{}}
\newcommand{\syntax}[2]{&|&#1&\quad\mathrm{#2}\\}

\newenvironment{syntaxdef} {\begin{mathpar} \begin{array}{lcll}} {\end{array} \end{mathpar}}


%% Misc commands

\newcommand{\quotes}[1] {"#1"}

\newcommand{\todo}[1]{\red{TODO\ifx#1~ \else: #1\fi}}
\newcommand{\todof}[1]{\red{\footnote{\red{TODO\ifx#1~ \else: #1\fi}}}}

%% Environments

\theoremstyle{plain}
%\newtheorem{theorem}{Theorem}[section]
\newtheorem{coro}[theorem]{Corollary}
%\newtheorem{lemma}[theorem]{Lemma}
%\newtheorem{prop}[theorem]{Proposition}

\theoremstyle{definition}
%\newtheorem{definition}[theorem]{Definition}
\newtheorem{notation}[theorem]{Notation}
%\newtheorem{example}{Example}[subsection]
%\newtheorem{exercice}{Exercice}[subsection]

%\theoremstyle{plain}
%\newtheorem{remark}{Remark}[subsection]


\theoremstyle{plain}
\newtheorem{problem}{Problem}


%% Project specific


\newcommand{\app}[1]{\ifx#1~ \else \left( #1 \right)\fi}

\knowledgenewrobustcmd \tree {\cmdkl {\mathrm{tree}}}

\knowledgenewrobustcmd \Nodes [1] {\cmdkl {\mathrm{Nodes}} \app {#1}}
\knowledgenewrobustcmd \Leaves [1] {\cmdkl {\mathrm{Leaves}} \app {#1}}

\knowledgenewrobustcmd \tlabel [2] {\cmdkl {#1} \left( #2\right)}

\knowledgenewrobustcmd \subtree[2] {\cmdkl{{#1}^{#2}}}

\knowledgenewrobustcmd \exec {\cmdkl {\rho}}

\knowledgenewrobustcmd \interpret [2] {\cmdkl{\llbracket} #1 \cmdkl{\rrbracket} \app{#2}}

\knowledgenewrobustcmd{\ancestor}{\mathrel{\cmdkl{\sqsubseteq}}}

\knowledgenewrobustcmd \Model [1] {\cmdkl{\mathcal M} \app{#1}}

\knowledgenewrobustcmd \Det [1] {\cmdkl{\mathrm{Det}} \app{#1}}

\knowledgenewrobustcmd \init {\cmdkl {\iota}}


\knowledgenewrobustcmd \leaf {\cmdkl {\mathrm{leaf}}}
\knowledgenewrobustcmd \treeroot {\cmdkl {\mathrm{root}}}
\knowledgenewrobustcmd \children {\cmdkl {\mathrm{children}}}

\knowledgenewrobustcmd \Reach [1] {\cmdkl {\mathrm{Reach}_{#1}}}


\knowledgenewrobustcmd \Atimes {\cmdkl {\times}}

\knowledgenewrobustcmd \choiceN {\cmdkl {\mathrm{choice-nodes}}}
\knowledgenewrobustcmd \choiceL {\cmdkl {\mathrm{choice-leaves}}}
\knowledgenewrobustcmd \choiceF {\cmdkl {\mathrm{choice-final}}}
\knowledgenewrobustcmd \ustate {\cmdkl {\mathrm{u\_state}}}
\knowledgenewrobustcmd \deltau {\cmdkl {\delta_U}}
\knowledgenewrobustcmd \deltauu {\cmdkl {\delta_{U_2}}}
\knowledgenewrobustcmd \rhou {\cmdkl {\rho_U}}
\knowledgenewrobustcmd \unif{\cmdkl {\mathrm{unif}}}

\knowledgenewrobustcmd  \singleState {\cmdkl {\mathrm{single\_state}}}
\knowledgenewrobustcmd  \rootNode  {\cmdkl {\mathrm{root\_node}}}
\knowledgenewrobustcmd  \inSet  {\cmdkl {\mathrm{in\_set}}}
\knowledgenewrobustcmd  \leafNode  {\cmdkl {\mathrm{leaf\_node}}}
\knowledgenewrobustcmd \innerNodes  {\cmdkl {\mathrm{inner\_nodes}}}
\knowledgenewrobustcmd \Aut {\cmdkl {\mathrm{Aut}}}
\knowledgenewrobustcmd \Ua {\cmdkl {U}}

\newcommand{\setcomp}[1]{{#1}^\complement}

\newcommand{\La}{\mathcal{L}}
\knowledgenewrobustcmd \lang [1] {\cmdkl{\La} \app{#1}}

\newcommand{\decomp}[2] {
	#1_1 #1_2 \ldots #1_{#2}
}

\newcommand{\motDecomp}[2] {
	#1 = \decomp{#1}{#2}
}


\newcommand{\NBUA}{(\Sigma, Q, I, \Delta, F)}
\newcommand{\DBUA}{(\Sigma, Q, \init, \delta, F)}


\newcommand{\tiff}{\mathrm{ if and only if }}



\NewCommandCopy{\phiswap}{\phi}
\RenewCommandCopy{\phi}{\varphi}
\RenewCommandCopy{\varphi}{\phiswap}
